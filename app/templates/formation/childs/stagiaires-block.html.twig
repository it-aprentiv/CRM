
<center>
    <input type="button" class="btn btn-warning" style="border-radius: 5%;" id="add_stagiaire" value="Ajouter un stagiaire">
</center>
<table style="display: none">
    <thead id="stagiaire_prototype">
    {% block stagiaire_row %}
    {% if indexRow is not defined %}
    {% set indexRow = '__name__' %}
    {% endif %}
    {% if attributes is not defined %}
    {% set attributes = { 'attr': { 'disabled': true } } %}
    {% endif %}
    {% if email is not defined %}
    {% set email = ''  %}
    {% endif %}

    <tr class="row" id="stagiaire_row-{{ indexRow }}">
        {{ form_widget(prototype.id, attributes) }}
        <td class="col-sm">
            {{ form_widget(prototype.nom, attributes) }}
            {{ form_errors(prototype.nom) }}
        </td>
        <td class="col-sm">
            {{ form_widget(prototype.prenom, attributes) }}
            {{ form_errors(prototype.prenom) }}
        </td>
        <td class="col-sm">
            {{ form_widget(prototype.Email) }}
            {{ form_errors(prototype.Email) }}
        </td>
        <td class="col-sm">
            {{ form_widget(prototype.dateNaissance, attributes) }}
            {{ form_errors(prototype.dateNaissance) }}
        </td>
        <td class="col-sm">
            {{ form_widget(prototype.niveauetude, attributes) }}
            {{ form_errors(prototype.niveauetude) }}
        </td>
        <td class="col-sm">
            {{ form_widget(prototype.nsecuritesocial, attributes) }}
            {{ form_errors(prototype.nsecuritesocial) }}
        </td>
        <td>
            <div>
                <a href="javascript:void(0)" class="delete-stagiaire" title="Supprimer" style="font-size: 140%;" data-idrow="stagiaire_row-{{ indexRow }}">
                    <i class="fas fa-trash-alt text-danger"></i>
                </a>
            </div>
        </td>
    </tr>
    {% endblock %}
    </thead>
</table>
<table class="table table-striped table-borderless col-sm-12 mt-3">
    <thead>
    <tr class="row">
        <th class="col-sm">Nom</th>
        <th class="col-sm">Prénom</th>
        <th class="col-sm">Email</th>
        <th class="col-sm">Date de naissance</th>
        <th class="col-sm">Niveau d'etude</th>
        <th class="col-sm">N° sécurité social</th>
        <th></th>
    </tr>
    </thead>
    <tbody id="stagiaires_collection">
    {% set rowNum = 0 %}
    {% for stagiaire in stagiaires %}
    {# utiliser les info du stagiaires pour construire le bloc comment_row #}
    {% set indexRow = loop.index %}
    {% set attributes = {} %}
        {#{% if data is defined %}
        {% if indexRow <= data|length  %}
        {% set email = data[indexRow - 1].email %}
        {% endif %}
        {% endif %}#}
    {% set prototype = stagiaire %}
    {{ block('stagiaire_row') }}
    {% endfor %}
    </tbody>
</table>

